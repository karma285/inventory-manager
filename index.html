<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>html5-qrcode ì¹´ë©”ë¼ í…ŒìŠ¤íŠ¸</title>
<style>
  body {
    font-family: Arial, sans-serif;
    max-width: 400px;
    margin: 40px auto;
    text-align: center;
  }
  #reader {
    width: 100%;
    height: 300px;
    border: 1px solid #ddd;
    margin-top: 20px;
  }
</style>
</head>
<body>
<h1>ğŸ“· ì¹´ë©”ë¼ & ë°”ì½”ë“œ ìŠ¤ìº” í…ŒìŠ¤íŠ¸</h1>
<div id="reader"></div>

<script src="https://unpkg.com/html5-qrcode@2.2.1/minified/html5-qrcode.min.js"></script>
<script>
  const html5QrCode = new Html5Qrcode("reader");

  // ì¹´ë©”ë¼ ëª©ë¡ ì–»ê¸°
  Html5Qrcode.getCameras().then(cameras => {
    if (cameras && cameras.length) {
      // í›„ë©´ ì¹´ë©”ë¼ ìš°ì„  ì°¾ê¸°
      const backCamera = cameras.find(cam => /back|rear|environment/gi.test(cam.label)) || cameras[0];
      html5QrCode.start(
        backCamera.id,
        {
          fps: 10,
          qrbox: 250
        },
        decodedText => {
          alert(`ë°”ì½”ë“œ ì¸ì‹: ${decodedText}`);
          // ìŠ¤ìº” í›„ ì¹´ë©”ë¼ ì •ì§€ (í•„ìš”í•˜ë©´ ì£¼ì„ì²˜ë¦¬ ê°€ëŠ¥)
          html5QrCode.stop();
        },
        errorMessage => {
          // ìŠ¤ìº” ì‹¤íŒ¨ì‹œ ì—ëŸ¬ ë¬´ì‹œ
        }
      ).catch(err => {
        alert(`ì¹´ë©”ë¼ ì‹œì‘ ì˜¤ë¥˜: ${err}`);
      });
    } else {
      alert("ì‚¬ìš© ê°€ëŠ¥í•œ ì¹´ë©”ë¼ê°€ ì—†ìŠµë‹ˆë‹¤.");
    }
  }).catch(err => {
    alert(`ì¹´ë©”ë¼ ì •ë³´ ê°€ì ¸ì˜¤ê¸° ì‹¤íŒ¨: ${err}`);
  });
</script>
</body>
</html>
